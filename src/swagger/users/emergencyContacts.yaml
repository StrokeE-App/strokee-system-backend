paths:
  /patient/emergency-contacts/add:
    post:
      summary: Registrar contactos de emergencia para un paciente
      description: Permite registrar uno o más contactos de emergencia para un paciente en la base de datos.
      tags:
        - Patients
      security:
        - BearerAuth: []
      requestBody:
        description: Datos de los contactos de emergencia a registrar.
        content:
          application/json:
            schema:
              type: object
              properties:
                patientId:
                  type: string
                  example: 'patient123'
                  contact:
                    type: object
                    properties:
                      firstName:
                        type: string
                        example: 'Jane'
                      lastName:
                        type: string
                        example: 'Doe'
                      phoneNumber:
                        type: string
                        example: '1234567890'
                      email:
                        type: string
                        example: 'jane.doe@example.com'
                      relationship:
                        type: string
                        example: 'sister'
              required:
                - contacts
      responses:
        '201':
          description: Contacto de emergencia registrado exitosamente.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Contacto de emergencia agregado exitosamente.'
        '400':
          description: Error al registrar contacto de emergencia debido a datos incorrectos o duplicados.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Hubo un error al procesar la solicitud: Cada contacto debe tener un nombre, apellido, un número de teléfono y correo electrónico.'
        '500':
          description: Error interno del servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Error al agregar contacto de emergencia.'
  /patient/emergency-contacts/validate:
    post:
      summary: Validar una lista de contactos de emergencia
      description: Valida una lista de contactos de emergencia para asegurarse de que no haya errores de formato ni duplicados.
      tags:
        - Patients
      security:
        - BearerAuth: []
      requestBody:
        description: Lista de contactos de emergencia a validar.
        content:
          application/json:
            schema:
              type: object
              properties:
                contacts:
                  type: array
                  items:
                    type: object
                    properties:
                      firstName:
                        type: string
                        example: 'Jane'
                      lastName:
                        type: string
                        example: 'Doe'
                      phoneNumber:
                        type: string
                        example: '1234567890'
                      email:
                        type: string
                        example: 'jane.doe@example.com'
                      relationship:
                        type: string
                        example: 'sister'
              required:
                - contacts
      responses:
        '201':
          description: La lista de contactos de emergencia es válida.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Los contactos de emergencia son válidos.'
        '400':
          description: Error en la validación de los contactos debido a datos incorrectos o duplicados.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Algunos contactos ya existen con el mismo número de teléfono o correo electrónico.'
                  duplicateEmails:
                    type: array
                    items:
                      type: string
                      example: 'john@exmaple.com'
                  duplicatePhones:
                    type: array
                    items:
                      type: string
                      example: '9876543210' 
        '500':
          description: Error interno del servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Error al validar los contactos de emergencia.'